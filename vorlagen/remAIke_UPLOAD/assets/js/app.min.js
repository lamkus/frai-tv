(()=>{"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(e){console.log("SW registered: ",e)}).catch(function(e){console.log("SW registration failed: ",e)})});var e=document.getElementById("videoCompare"),t=e.querySelector(".video-before"),n=e.querySelector(".video-after"),i=document.getElementById("sliderHandle"),r=!1,a=50;function o(t){var r=e.getBoundingClientRect();a=Math.max(0,Math.min(100,(t-r.left)/r.width*100)),i.style.left=a+"%",i.setAttribute("aria-valuenow",Math.round(a)),n.style.clipPath="inset(0 ".concat(100-a,"% 0 0)")}function l(t){r=!0,e.classList.add("dragging"),o(t.touches?t.touches[0].clientX:t.clientX)}function c(e){r&&(e.preventDefault(),o(e.touches?e.touches[0].clientX:e.clientX))}function d(){r=!1,e.classList.remove("dragging")}t.addEventListener("loadedmetadata",function(){n.currentTime=t.currentTime}),t.addEventListener("play",function(){n.currentTime=t.currentTime,n.play()}),setInterval(function(){Math.abs(t.currentTime-n.currentTime)>.1&&(n.currentTime=t.currentTime)},500),i.addEventListener("mousedown",l),e.addEventListener("mousedown",function(e){e.target===i||i.contains(e.target)||l(e)}),document.addEventListener("mousemove",c),document.addEventListener("mouseup",d),i.addEventListener("touchstart",l,{passive:!1}),e.addEventListener("touchstart",function(e){e.target===i||i.contains(e.target)||l(e)},{passive:!1}),document.addEventListener("touchmove",c,{passive:!1}),document.addEventListener("touchcancel",d),document.addEventListener("touchcancel",d),i.addEventListener("keydown",function(t){switch(t.key){case"ArrowLeft":t.preventDefault(),a=Math.max(0,a-5),o(e.getBoundingClientRect().left+a/100*e.offsetWidth);break;case"ArrowRight":t.preventDefault(),a=Math.min(100,a+5),o(e.getBoundingClientRect().left+a/100*e.offsetWidth);break;case"Home":t.preventDefault(),a=0,o(e.getBoundingClientRect().left);break;case"End":t.preventDefault(),a=100,o(e.getBoundingClientRect().right)}}),o(e.getBoundingClientRect().left+e.offsetWidth/2);var s=document.getElementById("galleryGrid");[{title:"Felix the Cat - Feline Follies",year:"1919",folder:"felix-feline-follies"},{title:"Superman - Destruction Inc.",year:"1942",folder:"superman-destruction"},{title:"Superman - Japoteurs",year:"1942",folder:"superman-japoteurs"},{title:"Superman - Eleventh Hour",year:"1942",folder:"superman-eleventh-hour"},{title:"Felix the Cat - Felix Swims",year:"1922",folder:"felix-swim"},{title:"Dinner for One",year:"1963",folder:"dinner-for-one-1963"}].forEach(function(e){var t=document.createElement("div");t.className="gallery-card",t.onclick=function(){return window.location.href="remaike-studio.html?video=".concat(e.folder)},t.innerHTML='\n        <div class="gallery-video">\n            <video autoplay loop muted playsinline loading="lazy">\n                <source src="assets/video/clips/01_enhanced.mp4" type="video/mp4">\n            </video>\n            <div class="gallery-overlay">\n                <span style="color: var(--brand-primary)">Klicken für Vergleich →</span>\n            </div>\n            <div class="gallery-play">▶</div>\n        </div>\n        <div class="gallery-info">\n            <div class="gallery-title">'.concat(e.title,'</div>\n            <div class="gallery-meta">').concat(e.year," • 8K Restored</div>\n        </div>\n    "),s.appendChild(t)}),document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})})})();